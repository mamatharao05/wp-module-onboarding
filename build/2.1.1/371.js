"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[371],{2772:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(1609),i=n(7723);var r=n(7143),s=n(148),o=n(8468),l=n(7675);const d=(0,o.memo)((({customNavPercentage:e,watcher:t=null})=>{let n=0;const d={title:(0,i.__)("Building Website","wp-module-onboarding"),status:[{title:(0,i.__)("Generating Website","wp-module-onboarding")},{title:(0,i.__)("Finding Font Pairings","wp-module-onboarding")},{title:(0,i.__)("Building Custom Color Palettes","wp-module-onboarding")},{title:(0,i.__)("Populating Images","wp-module-onboarding")},{title:(0,i.__)("Finalizing Previews","wp-module-onboarding")},{title:(0,i.__)("Packaging Website","wp-module-onboarding")}]},_=(0,s.Zp)(),[c,g]=(0,o.useState)(0),[u,m]=(0,o.useState)(d.status[n].title),{currentData:b,nextStep:p}=(0,r.useSelect)((e=>({currentData:e(l.M).getCurrentOnboardingData(),nextStep:e(l.M).getNextStep()})));return(0,o.useEffect)((()=>{const e=setInterval((()=>{n+=1,n===d.status.length&&(n=0),m(d.status[n].title)}),3e3);return()=>{clearInterval(e)}}),[]),(0,o.useEffect)((()=>{g(b?.sitegen?.siteGenMetaStatus?.currentStatus/b?.sitegen?.siteGenMetaStatus?.totalCount*100)}),[b?.sitegen?.siteGenMetaStatus?.currentStatus]),(0,o.useEffect)((()=>{if(c===e&&p){if(null!==t&&!1===t)return;_(p.path)}}),[c,t]),(0,a.createElement)("div",{className:"nfd-sg-loader"},(0,a.createElement)("div",{className:"nfd-sg-loader__title"},d.title),(0,a.createElement)("div",{className:"nfd-sg-loader__progress"},(0,a.createElement)("div",{className:"nfd-sg-loader__progress_bars"},(0,a.createElement)("div",{className:"nfd-sg-loader__progress_bars_bg"}),(0,a.createElement)("div",{className:"nfd-sg-loader__progress_bars_bar",style:{width:`${c}%`}}))),(0,a.createElement)("div",{className:"nfd-sg-loader__status"},`${u}...`))}))},7673:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(1609),i=n(8468);const r=({height:e="80px"})=>{const t={"--wnd-ai-logo-size":e,height:`var(--wnd-ai-logo-size, ${e})`};return(0,i.useEffect)((()=>{document.querySelectorAll("[data-wnd-ai-logo]").forEach((function(e){let t=!1,n=null;const a=()=>{t?document.body.classList.add("wnd-ai-logo-keydown"):document.body.classList.remove("wnd-ai-logo-keydown"),n=null};e.addEventListener("keydown",(function(){t||(t=!0,n||(n=window.requestAnimationFrame(a)))})),e.addEventListener("keyup",(function(){t=!1,n||(n=window.requestAnimationFrame(a))}))}))}),[]),(0,a.createElement)("span",{className:"wnd-ai-logo",style:t},(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--bg"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--1"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--2"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--3"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--4"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--5"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--6"}),(0,a.createElement)("span",{className:"wnd-ai-logo__spinner"}))}},8844:(e,t,n)=>{n.d(t,{A:()=>E});var a=n(1609),i=n(8468),r=n(9491),s=n(7143),o=n(7723);var l=n(6427),d=n(7675),_=n(3988),c=n(7673),g=n(8744),u=n(2940),m=n(9861),b=n(148),p=n(8969);const w=()=>{const e=(0,b.Zp)(),{setIsHeaderEnabled:t,setSidebarActiveView:n,setHeaderActiveView:w,setDrawerActiveView:E,setHideFooterNav:f,setIsHeaderNavigationEnabled:v,updateAllSteps:N,updateTopSteps:h,updateRoutes:S,updateDesignRoutes:k,updateInitialize:A,setCurrentOnboardingData:y,updateSiteGenErrorStatus:x}=(0,s.useDispatch)(d.M);(0,i.useEffect)((()=>{f(!0),t(!0),n(!1),w(p.Ix),v(!0),E(!1)}));const{brandConfig:C,currentData:F}=(0,s.useSelect)((e=>({brandConfig:e(d.M).getNewfoldBrandConfig(),currentData:e(d.M).getCurrentOnboardingData()}))),I=(0,r.useViewportMatch)("small"),D={heading:(0,o.__)("Sorry, we're having trouble communicating with our AI service.","wp-module-onboarding"),subHeading:(0,o.__)("Do you keep getting this error?","wp-module-onboarding"),message:(0,o.__)("If you continue to get this error, you may either continue creating your site without using our AI assistant, or you can ","wp-module-onboarding"),buttonText:(0,o.__)("Try again","wp-module-onboarding"),buttonSkip:(0,o.__)("Continue without AI","wp-module-onboarding"),buttonExit:(0,o.__)("exit to WordPress","wp-module-onboarding")},M=window.nfdOnboarding?.oldFlow?window.nfdOnboarding.oldFlow:g.rA,O=()=>{x(!1)};return(0,a.createElement)(_.A,{className:"nfd-onboarding-step--site-gen__error"},(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container"},(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__orb"},(0,a.createElement)(c.A,{height:"100px"})),(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__heading"},(0,a.createElement)("p",{className:"nfd-onboarding-step--site-gen__error__container__heading__text"},D.heading)),(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading"},(0,a.createElement)("p",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading__text"},D.subHeading),(0,a.createElement)("p",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading__message"},D.message,(0,a.createElement)("a",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading__exit",href:p.R0},D.buttonExit))),(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__buttons"},(0,a.createElement)(l.Button,{className:"nfd-onboarding-step--site-gen__error__container__buttons__skip",onClick:()=>{(t=>{if(!(0,u.nC)(C,t))return!1;const n=window.nfdOnboarding.currentFlow,a=(0,m.Sg)(t)();N(a.steps),h(a?.topSteps),S(a.routes),k(a?.designRoutes),g.d0!==n&&(window.nfdOnboarding.oldFlow=n),window.nfdOnboarding.currentFlow=t,F.activeFlow=t,y(F),g.d0!==t&&A(!0),e(a.steps[1].path)})(M)}},D.buttonSkip),I?(0,a.createElement)(l.Button,{className:"nfd-onboarding-step--site-gen__error__container__buttons__retry",onClick:()=>{O()}},(0,a.createElement)("p",{className:"nfd-onboarding-button--site-gen-next--text"},D.buttonText)):(0,a.createElement)(l.Fill,{name:`${p.Sr}/${p.gb}`},(0,a.createElement)(l.Button,{className:"nfd-onboarding-step--site-gen__error__container__buttons__retry",onClick:()=>{O()}},(0,a.createElement)("p",{className:"nfd-onboarding-button--site-gen-next--text"},D.buttonText))))))},E=({children:e})=>{const{siteGenErrorStatus:t}=(0,s.useSelect)((e=>({siteGenErrorStatus:e(d.M).getSiteGenErrorStatus()})));return(0,a.createElement)(i.Fragment,null,t?(0,a.createElement)(w,null):e)}},2371:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var a=n(1609),i=n(3988),r=n(8468),s=n(7143),o=n(7675),l=n(8969),d=n(2772),_=n(8844);const c=(0,r.memo)((()=>{const{setIsHeaderEnabled:e,setSidebarActiveView:t,setHeaderActiveView:n,setDrawerActiveView:c,setIsHeaderNavigationEnabled:g}=(0,s.useDispatch)(o.M);return(0,r.useEffect)((()=>{e(!0),t(!1),g(!1),n(l.Ix),c(!1)})),(0,a.createElement)(_.A,null,(0,a.createElement)(i.A,{isCentered:!0,className:"nfd-onboarding-step--site-gen__building"},(0,a.createElement)("div",{className:"site-gen__building_skimmer"},(0,a.createElement)("div",{className:"site-gen__building_skimmer--main site-gen__building_skimmer--header"}),(0,a.createElement)("div",{className:"site-gen__building_skimmer--main site-gen__building_skimmer--body"}),(0,a.createElement)("div",{className:"site-gen__building_skimmer--footer"},(0,a.createElement)("div",{className:"site-gen__building_skimmer--main site-gen__building_skimmer--footer_left"}),(0,a.createElement)("div",{className:"site-gen__building_skimmer--main site-gen__building_skimmer--footer_right"}))),(0,a.createElement)("div",{className:"site-gen__building_loader__overlay"},(0,a.createElement)(d.A,{customNavPercentage:100}))))}))}}]);