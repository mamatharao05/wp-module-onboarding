"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[705],{6999:(e,t,n)=>{n.d(t,{A:()=>g});var a=n(1609),o=n(6942),i=n.n(o),r=n(148),s=n(7143),l=n(6427),d=n(7677),c=n(6655),u=n(7675);const g=({text:e,className:t,callback:n=null,disabled:o=!1,showChevronRight:g=!0})=>{const _=(0,r.Zp)(),{nextStep:m}=(0,s.useSelect)((e=>({nextStep:e(u.M).getNextStep()})));return(0,a.createElement)(l.Button,{className:i()("nfd-onboarding-button--site-gen-next",{"nfd-onboarding-button--site-gen-next--disabled":o},t),onClick:()=>{o||(n&&"function"==typeof n&&n(),m&&_(m.path))}},(0,a.createElement)("p",{className:"nfd-onboarding-button--site-gen-next--text"},e),g&&(0,a.createElement)(d.A,{className:"nfd-onboarding-button--site-gen-next--icon",icon:c.A}))}},513:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(1609),o=n(8468),i=n(7673);const r=(0,o.memo)((({title:e})=>(0,a.createElement)("div",{className:"ai-heading"},(0,a.createElement)(i.A,{height:"40px"}),(0,a.createElement)("div",{className:"ai-heading--title"},e))))},7673:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1609),o=n(8468);const i=({height:e="80px"})=>{const t={"--wnd-ai-logo-size":e,height:`var(--wnd-ai-logo-size, ${e})`};return(0,o.useEffect)((()=>{document.querySelectorAll("[data-wnd-ai-logo]").forEach((function(e){let t=!1,n=null;const a=()=>{t?document.body.classList.add("wnd-ai-logo-keydown"):document.body.classList.remove("wnd-ai-logo-keydown"),n=null};e.addEventListener("keydown",(function(){t||(t=!0,n||(n=window.requestAnimationFrame(a)))})),e.addEventListener("keyup",(function(){t=!1,n||(n=window.requestAnimationFrame(a))}))}))}),[]),(0,a.createElement)("span",{className:"wnd-ai-logo",style:t},(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--bg"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--1"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--2"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--3"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--4"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--5"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--6"}),(0,a.createElement)("span",{className:"wnd-ai-logo__spinner"}))}},8844:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(1609),o=n(8468),i=n(9491),r=n(7143),s=n(7723);var l=n(6427),d=n(7675),c=n(3988),u=n(7673),g=n(8744),_=n(2940),m=n(9861),p=n(148),b=n(8969);const w=()=>{const e=(0,p.Zp)(),{setIsHeaderEnabled:t,setSidebarActiveView:n,setHeaderActiveView:w,setDrawerActiveView:h,setHideFooterNav:f,setIsHeaderNavigationEnabled:E,updateAllSteps:N,updateTopSteps:x,updateRoutes:v,updateDesignRoutes:y,updateInitialize:A,setCurrentOnboardingData:S,updateSiteGenErrorStatus:k}=(0,r.useDispatch)(d.M);(0,o.useEffect)((()=>{f(!0),t(!0),n(!1),w(b.Ix),E(!0),h(!1)}));const{brandConfig:C,currentData:D}=(0,r.useSelect)((e=>({brandConfig:e(d.M).getNewfoldBrandConfig(),currentData:e(d.M).getCurrentOnboardingData()}))),I=(0,i.useViewportMatch)("small"),F={heading:(0,s.__)("Sorry, we're having trouble communicating with our AI service.","wp-module-onboarding"),subHeading:(0,s.__)("Do you keep getting this error?","wp-module-onboarding"),message:(0,s.__)("If you continue to get this error, you may either continue creating your site without using our AI assistant, or you can ","wp-module-onboarding"),buttonText:(0,s.__)("Try again","wp-module-onboarding"),buttonSkip:(0,s.__)("Continue without AI","wp-module-onboarding"),buttonExit:(0,s.__)("exit to WordPress","wp-module-onboarding")},T=window.nfdOnboarding?.oldFlow?window.nfdOnboarding.oldFlow:g.rA,H=()=>{k(!1)};return(0,a.createElement)(c.A,{className:"nfd-onboarding-step--site-gen__error"},(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container"},(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__orb"},(0,a.createElement)(u.A,{height:"100px"})),(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__heading"},(0,a.createElement)("p",{className:"nfd-onboarding-step--site-gen__error__container__heading__text"},F.heading)),(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading"},(0,a.createElement)("p",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading__text"},F.subHeading),(0,a.createElement)("p",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading__message"},F.message,(0,a.createElement)("a",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading__exit",href:b.R0},F.buttonExit))),(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__buttons"},(0,a.createElement)(l.Button,{className:"nfd-onboarding-step--site-gen__error__container__buttons__skip",onClick:()=>{(t=>{if(!(0,_.nC)(C,t))return!1;const n=window.nfdOnboarding.currentFlow,a=(0,m.Sg)(t)();N(a.steps),x(a?.topSteps),v(a.routes),y(a?.designRoutes),g.d0!==n&&(window.nfdOnboarding.oldFlow=n),window.nfdOnboarding.currentFlow=t,D.activeFlow=t,S(D),g.d0!==t&&A(!0),e(a.steps[1].path)})(T)}},F.buttonSkip),I?(0,a.createElement)(l.Button,{className:"nfd-onboarding-step--site-gen__error__container__buttons__retry",onClick:()=>{H()}},(0,a.createElement)("p",{className:"nfd-onboarding-button--site-gen-next--text"},F.buttonText)):(0,a.createElement)(l.Fill,{name:`${b.Sr}/${b.gb}`},(0,a.createElement)(l.Button,{className:"nfd-onboarding-step--site-gen__error__container__buttons__retry",onClick:()=>{H()}},(0,a.createElement)("p",{className:"nfd-onboarding-button--site-gen-next--text"},F.buttonText))))))},h=({children:e})=>{const{siteGenErrorStatus:t}=(0,r.useSelect)((e=>({siteGenErrorStatus:e(d.M).getSiteGenErrorStatus()})));return(0,a.createElement)(o.Fragment,null,t?(0,a.createElement)(w,null):e)}},8705:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(1609),o=n(9491),i=n(7143),r=n(8468),s=n(7723);var l=n(431),d=n(8969),c=n(7675),u=n(513),g=n(3988),_=n(6942),m=n.n(_);const p=(0,r.memo)((({hint:e,height:t,children:n,placeholder:o,customerInput:i,setIsValidInput:l,setCustomerInput:d,customChildren:c=!1})=>{const u=(0,r.useRef)(null),[g,_]=(0,r.useState)(0),[p,b]=(0,r.useState)("nfd-sg-input-box__field");(0,r.useEffect)((()=>{u.current.style.height=t;const e=u.current.scrollHeight;u.current.style.height=e+"px";const n=w(i?.trim());_(n),l(n>=2)}),[i]);const w=e=>{const t=e?.length;let n=0;return t>200?n=3:t>150?n=2:t>100&&(n=1),n},h=e=>{if(e<=g)return"nfd-sg-input-box__info-icon--selected"};return(0,a.createElement)("div",{className:"nfd-sg-input"},(0,a.createElement)("label",{htmlFor:p},(0,a.createElement)("div",{className:"nfd-sg-input-box"},(0,a.createElement)("textarea",{"data-wnd-ai-logo":!0,type:"text",className:p,ref:u,style:{height:"47px"},placeholder:o,value:i,onChange:e=>(e=>{e.preventDefault(),d(e.target.value),b("nfd-sg-input-box__field")})(e)})),(0,a.createElement)("div",{className:"nfd-sg-input-box_bottom"},i?(0,a.createElement)("div",{className:"nfd-sg-input-box__info"},(0,a.createElement)("div",{className:"nfd-sg-input-box__info-text"},(0,s.__)("Detail","wp-module-onboarding")),(()=>{const e=[];for(let t=1;t<=3;t++)e.push((0,a.createElement)("div",{className:m()("nfd-sg-input-box__info-icon",h(t))}));return e})()):(0,a.createElement)("p",{className:"nfd-sg-input-box__hint"},e),c&&n)))}));var b=n(6999),w=n(8844);const h=()=>{const e={heading:(0,s.__)("Tell me some details about the site you want created?","wp-module-onboarding"),inputPlaceholder:(0,s.__)("I want a site for my company that sellsâ€¦","wp-module-onboarding"),inputHint:(0,s.__)("The more detail the better","wp-module-onboarding"),buttonText:(0,s.__)("Next","wp-module-onboarding"),walkThroughText:(0,s.__)("Not sure what to say? We can walk you through it.","wp-module-onboarding"),walkThroughlink:(0,s.__)("click here","wp-module-onboarding")},t=(0,o.useViewportMatch)("small"),[n,_]=(0,r.useState)(),[m,h]=(0,r.useState)(!1),{currentData:f}=(0,i.useSelect)((e=>({currentData:e(c.M).getCurrentOnboardingData()}))),{setIsFooterNavAllowed:E,setIsHeaderEnabled:N,setSidebarActiveView:x,setHeaderActiveView:v,setDrawerActiveView:y,setHideFooterNav:A,setCurrentOnboardingData:S,setIsHeaderNavigationEnabled:k}=(0,i.useDispatch)(c.M);return(0,r.useEffect)((()=>{if(A(!1),N(!0),x(!1),v(d.Ix),k(!0),y(!1),""!==f.sitegen.siteDetails?.prompt)return h(!0),E(!0),_(f.sitegen.siteDetails.prompt);E(!1)}),[]),(0,r.useEffect)((()=>{void 0!==n&&""!==n&&n!==f.sitegen.siteDetails.prompt&&(f.sitegen.siteDetails.prompt=n?.trim(),f.sitegen.siteDetails.mode="simple",f.sitegen.skipCache=!0,f.sitegen.sitemapPagesGenerated=!1,f.sitegen.homepages.active={},f.sitegen.homepages.data={},S(f)),E(m)}),[n]),(0,a.createElement)(w.A,null,(0,a.createElement)(g.A,{isCentered:!0},(0,a.createElement)(l.A,{type:"fade-in"},(0,a.createElement)("div",{className:"nfd-sg-site-details"},(0,a.createElement)(u.A,{title:e.heading}),(0,a.createElement)(p,{placeholder:e.inputPlaceholder,hint:e.inputHint,height:"40px",customerInput:n,setIsValidInput:h,setCustomerInput:_,customChildren:!0},t&&(0,a.createElement)("div",{className:"nfd-sg-site-details-endrow"},(0,a.createElement)(b.A,{className:"nfd-sg-site-details--next-btn",text:e.buttonText,disabled:!m})))))))}}}]);