"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[366],{5677:(e,t,a)=>{a.d(t,{W:()=>i});var r=a(1609),s=a(3988),o=a(4639),n=a(9889);const i=({title:e,subtitle:t,error:a})=>(0,r.createElement)(s.A,{className:"step-error-state",isVerticallyCentered:!0},(0,r.createElement)(o.A,{title:e,subtitle:t}),(0,r.createElement)("div",{className:"step-error-state__logo"}),(0,r.createElement)("h3",{className:"step-error-state__error"},a),(0,r.createElement)(n.A,null))},9964:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(1609),s=a(6942),o=a.n(s);const n=({className:e="",size:t,colGap:a=0,children:s})=>(0,r.createElement)("div",{className:o()("nfd-onboarding-grid",e),style:{gridTemplateColumns:`repeat(${t}, 1fr)`,gridColumnGap:`${a}px`}},s)},518:(e,t,a)=>{a.d(t,{c:()=>n,S:()=>r.A});var r=a(212),s=a(1609),o=a(431);const n=()=>(0,s.createElement)("div",{className:"image-upload-loader--loading-box"},(0,s.createElement)(o.A,{type:"load",className:"image-upload-loader--loading-box__loader"}))},591:(e,t,a)=>{a.d(t,{U:()=>h});var r=a(1609),s=a(7143),o=a(8468),n=a(9491),i=a(7723),l=a(518),d=a(7675),c=a(7517),u=a(8969),m=a(5677);var g=a(5748);const h=({children:e,navigationStateCallback:t=!1,refresh:a=!0})=>{const h=(0,n.useViewportMatch)("medium"),{storedThemeStatus:p,brandName:w}=(0,s.useSelect)((e=>({storedThemeStatus:e(d.M).getThemeStatus(),brandName:e(d.M).getNewfoldBrandName()})),[]),b=(e=>({loader:{title:(0,i.sprintf)(/* translators: %s: Brand */ /* translators: %s: Brand */
(0,i.__)("Preparing your %s design studio","wp-module-onboarding"),e),subtitle:(0,i.__)("Hang tight while we show you some of the best WordPress has to offer!","wp-module-onboarding")},errorState:{title:(0,i.sprintf)(/* translators: %s: Brand */ /* translators: %s: Brand */
(0,i.__)("Preparing your %s design studio","wp-module-onboarding"),e),subtitle:(0,i.__)("Hang tight while we show you some of the best WordPress has to offer!","wp-module-onboarding"),error:(0,i.__)("Uh-oh, something went wrong. Please contact support.","wp-module-onboarding")}}))(w),{updateThemeStatus:f,setIsDrawerOpened:_,setIsDrawerSuppressed:E,setIsHeaderNavigationEnabled:S}=(0,s.useDispatch)(d.M),v=()=>{switch(p){case u.SQ:case u.Er:return(()=>{if("function"==typeof t)return t();h&&_(!0),E(!1),S(!0)})();default:_(!1),E(!0),S(!1)}};(0,o.useEffect)((()=>{v(),p===u.So&&(async()=>{const e=await(async()=>{const e=await(0,c.qv)(u.f1);return e?.error?u.mp:e.body.status})();switch(e){case u.fO:(async()=>{(await(0,c.xN)(u.f1)).error||!0!==a?y():window.location.reload()})();break;case u.Er:!0===a&&window.location.reload();break;default:f(e)}})()}),[p]);const y=async()=>{if(f(u.fO),(await(0,c.ai)(u.f1,!0,!1)).error)return f(u.SQ);!0===a&&window.location.reload()};return(0,r.createElement)(o.Fragment,null,(()=>{switch(p){case u.mp:return(0,r.createElement)(g.A,{showButton:!1,isModalOpen:!0,modalTitle:(0,i.__)("It looks like you may have an existing website","wp-module-onboarding"),modalText:(0,i.__)("Going through this setup will change your active theme, WordPress settings, add content â€“ would you like to continue?","wp-module-onboarding"),modalOnClose:y,modalExitButtonText:(0,i.__)("Exit to WordPress","wp-module-onboarding")});case u.SQ:return(0,r.createElement)(m.W,{title:b.errorState.title,subtitle:b.errorState.subtitle,error:b.errorState.error});case u.Er:return e;default:return(0,r.createElement)(l.S,{title:b.loader.title,subtitle:b.loader.subtitle})}})())}},5366:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var r=a(1609),s=a(7143),o=a(8468),n=a(148),i=a(7675),l=a(3988),d=a(4639),c=a(8520),u=a(8969),m=a(591),g=a(7044),h=a(8616),p=a(7723);var w=a(9964);const b=()=>{const e=(0,n.zy)(),[t,a]=(0,o.useState)(),[b,f]=(0,o.useState)([]),{currentStep:_,currentData:E,themeStatus:S,themeVariations:v}=(0,s.useSelect)((t=>({currentStep:t(i.M).getStepFromPath(e.pathname),currentData:t(i.M).getCurrentOnboardingData(),themeStatus:t(i.M).getThemeStatus(),themeVariations:t(i.M).getStepPreviewData()})),[]),{setDrawerActiveView:y,setSidebarActiveView:N,updateThemeStatus:k,setCurrentOnboardingData:P}=(0,s.useDispatch)(i.M);(0,o.useEffect)((()=>{N(u.Qe),y(u.VG)}),[]);const A=(e,t=!1)=>{f(e),E.data.sitePages.other=0!==e.length&&((e,t)=>!1!==t?t?.reduce(((t,a)=>e.includes(a.slug)?t.concat({slug:a.slug,title:a.title}):t),[]):void 0)(e,t),P(E)},T=(e,a)=>{!0!==e||b.includes(a)?!1===e&&A(b.filter((e=>e!==a)),t):A(b.concat(a),t)};(0,o.useEffect)((()=>{S===u.Er&&(async()=>{const e=await(0,c.O)(_?.data?.patternId);if(e?.error)return k(u.So);if(e?.body){if(E.data.sitePages?.other)if(!1===E.data.sitePages.other)f([]);else if(0!==E.data.sitePages.other.length)f(E.data.sitePages.other.map((e=>e.slug)));else{const t=e.body.reduce(((e,t)=>t?.selected?e.concat(t.slug):e),[]);A(t,e.body)}a(e.body)}})()}),[S]);const C={heading:(0,p.__)("You have ideas, we have page templates","wp-module-onboarding"),subheading:(0,p.__)("Begin closer to the finish line than a blank canvas.","wp-module-onboarding")};return(0,r.createElement)(m.U,null,(0,r.createElement)(g.Th,null,(0,r.createElement)(l.A,null,(0,r.createElement)("div",{className:"site-pages"},(0,r.createElement)(d.A,{title:C.heading,subtitle:C.subheading}),(0,r.createElement)("div",{className:"site-pages__list"},(0,r.createElement)(w.A,{size:2},(0,r.createElement)(h.A,{className:"site-pages__list__item",count:v[_?.data?.patternId]?.previewCount,watch:t,isWithCard:!0,callback:()=>b&&t?.map(((e,t)=>(0,r.createElement)(g.z_,{key:t,className:"site-pages__list__item",blockGrammer:e.content,viewportWidth:1200,styling:"custom",overlay:!0,title:e?.title,slug:e.slug,selected:b.includes(e.slug),onClick:T,description:e?.description}))),viewportWidth:1200})))))))}}}]);