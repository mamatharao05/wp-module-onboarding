"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[426],{426:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(1609),s=a(3988),r=a(8468),o=a(7143),i=a(7675),c=a(8969),l=a(7044),g=a(7517),d=a(6087),p=a(7708);const m=()=>{const[e,t]=(0,r.useState)(!1),[a,m]=(0,r.useState)(!1),{setIsHeaderEnabled:y,setHeaderActiveView:h,setDrawerActiveView:u,setHideFooterNav:b,setCurrentOnboardingData:f,setIsHeaderNavigationEnabled:v}=(0,o.useDispatch)(i.M),{currentData:w}=(0,o.useSelect)((e=>({currentData:e(i.M).getCurrentOnboardingData()})));return(0,r.useEffect)((()=>{y(!0),h(c.Ix),u(!1),(async()=>{b(!0),y(!0),h(c.Ix),u(!1),v(!1);const e=w.sitegen.homepages.active;t(e);const a=await(0,g.w6)();m(a.body)})(),(async()=>{!1===w?.sitegen?.sitemapPagesGenerated&&((await(0,p.rZ)(w.sitegen.siteDetails.prompt)).error||(w.sitegen.sitemapPagesGenerated=!0,f(w)))})()}),[]),(0,r.useEffect)((()=>{w?.sitegen?.homepages?.active&&t(w.sitegen.homepages.active)}),[w]),(0,n.createElement)(s.A,{isCentered:!0,className:"nfd-onboarding-step--site-gen__editor"},(0,n.createElement)("div",{className:"nfd-onboarding-step--site-gen__editor__live-preview"},(()=>{if(!e||!a)return(0,n.createElement)(n.Fragment,null);let t=(0,d.cloneDeep)(a[0]);t.settings.color.palette=e.color.palette,e?.styles?.blocks?.length>0&&(t=(t=>{const a=e.styles.blocks[0];return a["core/heading"]&&(t.styles.blocks["core/heading"].typography.fontFamily=a["core/heading"].typography.fontFamily),a["core/body"]&&(t.styles.typography.fontFamily=a["core/body"].typography.fontFamily),t})(t));let s="";return["header","content","footer"].forEach((t=>{t in e&&(s+=e[t])})),(0,n.createElement)(l.pA,{blockGrammer:s,styling:"custom",previewSettings:t,viewportWidth:1300,skeletonLoadingTime:0})})()),(0,n.createElement)("div",{className:"nfd-onboarding-screenshot-container"}))}}}]);