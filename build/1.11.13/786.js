"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[786],{9786:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var r=a(9307),o=a(9818),l=a(5609),n=a(8148);const c=e=>{let{idx:t,label:a,selectedPalette:o,setSelectedPalette:l,setSelectedColor:n,colors:c}=e;const i=`conic-gradient(${c[t].primary} 90deg, ${c[t].secondary} 90deg 150deg, ${c[t].tertiary} 150deg 330deg, ${c[t].primary} 330deg 360deg)`,s="nfd-onboarding-sidebar-customize--color-palette-icon";return(0,r.createElement)("div",{className:`${s}__container`},(0,r.createElement)("div",{role:"presentation",className:`${s}__container__icon`,style:{boxShadow:o===t?"0 0 0 2px #FFF, 0 0 0 4px #035FEF":"none",background:i},onClick:()=>{l(t),n(c[t])}}),(0,r.createElement)("p",null,a))},i=e=>{let{onChange:t,paletteSecondaryColors:a,palettePrimaryColors:o}=e;const[n,c]=(0,r.useState)(o[0].color),i=[{colors:o,name:"Primary colors"},{colors:a,name:"Secondary colors"}];return(0,r.createElement)(l.Popover,{placement:"left"},(0,r.createElement)("div",{className:"nfd-onboarding-sidebar-customize--custom-color-palette__container"},(0,r.createElement)(l.ColorPalette,{colors:i,value:n,onChange:e=>{c(e),t(e)}})))};var s=a(4403);const d=e=>{var t,a,d,m,u,p,_,y,v;let{baseClassName:g="nfd-onboarding-sidebar-customize--design-colors-panel",heading:b}=e;const{storedPreviewSettings:C,customizeSidebarData:E}=(0,o.useSelect)((e=>({storedPreviewSettings:e(s.h).getPreviewSettings(),customizeSidebarData:e(s.h).getCustomizeSidebarData()})),[]),{currentData:S}=(0,o.useSelect)((e=>({currentData:e(s.h).getCurrentOnboardingData()}))),h=null==E?void 0:E.design,P=null==E?void 0:E.colorPalettes,N=Object.entries(null==h?void 0:h.color_palette).map((e=>{let[,t]=e;return{name:"Custom",color:t}})),$={primary:null==h?void 0:h.color_palette.primary,secondary:null==h?void 0:h.color_palette.secondary,tertiary:null==h?void 0:h.color_palette.tertiary},f={primary:null===(t=P[1])||void 0===t?void 0:t.primary,secondary:null===(a=P[1])||void 0===a?void 0:a.secondary,tertiary:null===(d=P[1])||void 0===d?void 0:d.tertiary},k={primary:null===(m=P[2])||void 0===m?void 0:m.primary,secondary:null===(u=P[2])||void 0===u?void 0:u.secondary,tertiary:null===(p=P[2])||void 0===p?void 0:p.tertiary},w={primary:null===(_=P[3])||void 0===_?void 0:_.primary,secondary:null===(y=P[3])||void 0===y?void 0:y.secondary,tertiary:null===(v=P[3])||void 0===v?void 0:v.tertiary},[O]=(0,r.useState)([$,f,k,w]),[D,x]=(0,r.useState)(f),[z,B]=(0,r.useState)(!1),[F,j]=(0,r.useState)(1),[A,R]=(0,r.useState)(""),[T,U]=(0,r.useState)(!1),L=Object.entries(P[1]).map((e=>{let[t,a]=e;return"name"!==t?{name:"Custom",color:a}:null})).filter(Boolean),M=e=>{U(!T),R(T?"":e)},{setCurrentOnboardingData:Z}=(0,o.useDispatch)(s.h),q=e=>{const t=[];for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const r=a.replace(/_/g,"-"),o=e[a],l=a.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ");t.push({slug:r,color:o,name:l})}return t};return(0,r.useEffect)((()=>{(()=>{P[F].primary=D.primary,P[F].secondary=D.secondary,P[F].tertiary=D.tertiary;const e=S.sitegen.homepages.active.slug;S.sitegen.homepages.data[e].color.palette=q(P[F]),S.sitegen.homepages.active.color.palette=q(P[F]),Z(S)})()}),[D,F]),(0,r.createElement)(l.PanelBody,{className:g,initialOpen:!0},(0,r.createElement)(l.PanelRow,null,(0,r.createElement)("div",{className:`${g}__container`},(0,r.createElement)("div",{className:`${g}__container__text`},(0,r.createElement)("p",{className:`${g}__container__text__heading`},(0,r.createElement)("strong",null,b)),(0,r.createElement)("div",{className:`${g}__container__color__palette__icon`},O.map(((e,t)=>(0,r.createElement)(c,{key:t,idx:t,label:0===t?"Default":"",selectedPalette:F,setSelectedPalette:j,setSelectedColor:x,colors:O}))))))),(0,r.createElement)(l.PanelRow,null,z?(0,r.createElement)("div",{className:`${g}__custom__colors__container`},(0,r.createElement)("h5",{className:`${g}__heading`},"CUSTOM COLORS"),(0,r.createElement)("div",null,["primary","secondary","tertiary"].map(((e,t)=>(0,r.createElement)(n.Z,{key:t,isColorSelected:D,color:D[e],slug:e,name:e.charAt(0).toUpperCase()+e.slice(1),callback:M})))),(0,r.createElement)("div",{className:`${g}__custom__colors__container__buttons`},(0,r.createElement)(l.Button,{onClick:()=>B(!1),className:"cancel"},"Cancel"),(0,r.createElement)(l.Button,{onClick:()=>{O[F]=D,B(!1)},variant:"primary"},"Apply")),T&&(0,r.createElement)(i,{onChange:e=>{const t={...D};t[A]=e,x(t)},palettePrimaryColors:N,paletteSecondaryColors:L})):(0,r.createElement)("div",{className:`${g}__custom__colors__button__container`},(0,r.createElement)(l.Button,{onClick:()=>B(!0)},"Pick your own colors"))))}}}]);