"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[583],{9291:(e,t,a)=>{a.d(t,{L:()=>n,Y:()=>o.Z});var o=a(35),r=a(9307),l=a(682);const n=()=>(0,r.createElement)("div",{className:"image-upload-loader--loading-box"},(0,r.createElement)(l.Z,{type:"load",className:"image-upload-loader--loading-box__loader"}))},676:(e,t,a)=>{a.d(t,{Z:()=>v});var o=a(9307),r=a(5736),l=a(5609),n=a(9818),i=a(9250),s=a(7207),c=a(7533),d=a(4403),u=a(8395),m=a(2200),p=a(6342),w=a(4184),_=a.n(w);const v=(0,o.memo)((e=>{let{callback:t=!1,className:a,text:w}=e;const v=(0,i.s0)(),g=(0,i.TH)(),{nextStep:h,currentData:b,socialData:f}=(0,n.useSelect)((e=>({nextStep:e(d.h).getNextStep(),currentData:e(d.h).getCurrentOnboardingData(),socialData:e(d.h).getOnboardingSocialData()})),[]),E=null===h||!1===h,{setOnboardingSocialData:N}=(0,n.useDispatch)(d.h);return(0,o.createElement)(l.Button,{className:_()("skip-button",a),onClick:E?()=>async function(e){if(b){if(b.isComplete=(new Date).getTime(),null!=e&&e.includes("basic-info")){const e=await async function(){const e=await(0,u.Gw)(),t=await(0,u.I2)(f);return null!==(null==t?void 0:t.error)?null==e?void 0:e.body:null==t?void 0:t.body}();e&&N(e),await s.v.dispatchEvents(p.En)}(0,c.kB)(b)}window.location.replace(m.br)}(g.pathname):()=>("function"==typeof t&&t(),void v(h.path))},w||(0,r.__)("Skip this Step","wp-module-onboarding"))}))},583:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var o=a(9307),r=a(5634),l=a(6653),n=a(9818),i=a(7798),s=a(5736),c=a(1392);const d=()=>({heading:(0,s.sprintf)(
/* translators: %s: website or store */
(0,s.__)("Introduce us to this %s","wp-module-onboarding"),(0,c.I)("website")),subheading:(0,s.__)("So we can introduce it to the web","wp-module-onboarding"),siteTitle:{title:(0,s.sprintf)(
/* translators: %s: Site */
(0,s.__)("%s Title","wp-module-onboarding"),(0,c.I)("Site")),placeholder:(0,s.sprintf)(
/* translators: %s: Site or Store */
(0,s.__)("WordPress %s","wp-module-onboarding"),(0,c.I)("Site")),hint:(0,s.__)("Shown to visitors, search engine and social media posts.","wp-module-onboarding"),maxCharacters:(0,s.__)("80","wp-module-onboarding")},siteDesc:{title:(0,s.sprintf)(
/* translators: %s: Site or Store */
(0,s.__)("%s Description","wp-module-onboarding"),(0,c.I)("Site")),placeholder:(0,s.sprintf)(
/* translators: %s: Site or Store */
(0,s.__)("Just another WordPress %s.","wp-module-onboarding"),(0,c.I)("Site")),hint:(0,s.sprintf)(
/* translators: %s: site or store */
(0,s.__)("Tell people who you are, what you sell and why they should visit your %s.","wp-module-onboarding"),(0,c.I)("site")),maxCharacters:(0,s.__)("160","wp-module-onboarding")},error:{title:(0,s.__)("Error Saving Data, Try Again!","wp-module-onboarding")}}),u=(0,o.memo)((e=>{let{title:t,hint:a,placeholder:r,height:l,maxCharacters:n,textValue:i,textValueSetter:c}=e;const d=(0,o.useRef)(null),[u,m]=(0,o.useState)("nfd-input__field");return(0,o.useEffect)((()=>{d.current.style.height=l;const e=d.current.scrollHeight;d.current.style.height=e+"px"}),[i]),(0,o.createElement)("div",{className:"nfd-input"},(0,o.createElement)("label",{htmlFor:u},(0,o.createElement)("div",{className:"nfd-input__label"},(0,o.createElement)("p",{className:"nfd-input__label_title"},t),(0,o.createElement)("p",{className:"nfd-input__label_maxChar"},(p=n-(null==i?void 0:i.length),{charactersLeftPrompt:{text:(0,s.sprintf)(
/* translators: %d: Character count */
(0,s.__)("(%d characters left)","wp-module-onboarding"),p)}}).charactersLeftPrompt.text)),(0,o.createElement)("textarea",{type:"text",className:u,ref:d,style:{height:l},placeholder:r,value:i,maxLength:n,onChange:e=>(e=>{e.preventDefault(),c(e.target.value),e.target.value.length===n?m("nfd-input__field nfd-input__field_error"):m("nfd-input__field")})(e)}),(0,o.createElement)("p",{className:"nfd-input__hint"},a)));var p}));var m=a(676),p=a(4403);const w=(0,o.memo)((e=>{let{title:t,desc:a,icon:r,isSocialFormOpen:l,setIsSocialFormOpen:i}=e;const{socialDataStore:d,brandUrl:u}=(0,n.useSelect)((e=>({socialDataStore:e(p.h).getOnboardingSocialData(),brandUrl:e(p.h).getNewfoldBrandUrl()})),[]),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{heading:(0,s.__)("Preview","wp-module-onboarding"),defaultTitle:(0,s.sprintf)(
/* translators: %s: Site or Store */
(0,s.__)("WordPress %s","wp-module-onboarding"),(0,c.I)("Site")),defaultDesc:(0,s.sprintf)(
/* translators: %s: Site */
(0,s.__)("Just another WordPress %s","wp-module-onboarding"),(0,c.I)("Site")),defaultUrl:e}}(u),w=""===t?m.defaultTitle:t,_=""===a?m.defaultDesc:a,v=""===t?m.defaultUrl:`https://${null==t?void 0:t.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}.com`,[g,h]=(0,o.useState)(""),[b,f]=(0,o.useState)(""),[E,N]=(0,o.useState)(""),[y,k]=(0,o.useState)(""),[S,T]=(0,o.useState)(""),[D,x]=(0,o.useState)(""),[O,I]=(0,o.useState)("");(0,o.useEffect)((()=>{var e,t,a,o,r;if(h(null!==(e=null==d?void 0:d.facebook_site)&&void 0!==e?e:""),f(null!==(t=null==d?void 0:d.twitter_site)&&void 0!==t?t:""),N(null!==(a=null==d?void 0:d.instagram_url)&&void 0!==a?a:""),k(null!==(o=null==d?void 0:d.youtube_url)&&void 0!==o?o:""),T(null!==(r=null==d?void 0:d.linkedin_url)&&void 0!==r?r:""),d&&Object.keys(d).includes("other_social_urls")){const e=d.other_social_urls;var l,n;Object.keys(e).includes("yelp_url")&&x(null!==(l=e.yelp_url)&&void 0!==l?l:""),Object.keys(e).includes("tiktok_url")&&I(null!==(n=e.tiktok_url)&&void 0!==n?n:"")}}),[d]);const L=e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol},R=[{url:g,image:"var(--facebook-icon)"},{url:b,image:"var(--twitter-icon)"},{url:E,image:"var(--instagram-icon)"},{url:y,image:"var(--youtube-icon)"},{url:S,image:"var(--linkedin-icon)"},{url:D,image:"var(--yelp-icon)"},{url:O,image:"var(--tiktok-icon)"}];return(0,o.createElement)("div",null,(0,o.createElement)("h4",{className:"mini-preview"},m.heading),(0,o.createElement)("div",{className:"browser-container"},(0,o.createElement)("div",{className:"browser-row-title"},(0,o.createElement)("div",{className:"browser-row-title_main"},(0,o.createElement)("div",{className:"browser-row-title_buttons"},(0,o.createElement)("span",{className:"browser-dot",style:{background:"#ED594A"}}),(0,o.createElement)("span",{className:"browser-dot",style:{background:"#FDD800"}}),(0,o.createElement)("span",{className:"browser-dot",style:{background:"#5AC05A"}}))),(0,o.createElement)("div",{className:"browser-row-title_bar"},(0,o.createElement)("div",{className:"browser-row-title_bar_before"},(0,o.createElement)("div",{className:"browser-row-title_bar_before-curve"})),(0,o.createElement)("div",{className:"browser-row-title_bar_main"},(void 0===r||0===(null==r?void 0:r.id))&&(0,o.createElement)("div",{className:"browser-icon-title",style:{content:"var(--default-logo-icon)"}}),void 0!==r&&0!==(null==r?void 0:r.id)&&(0,o.createElement)("img",{className:"browser-icon-title",src:null==r?void 0:r.url,alt:"Thumb"}),(0,o.createElement)("div",{className:"browser-row-title_bar_main-text"},null==w?void 0:w.substring(0,20)),(0,o.createElement)("div",{className:"browser-row-title_bar_main-cross"},"x")),(0,o.createElement)("div",{className:"browser-row-title_bar_after"},(0,o.createElement)("div",{className:"browser-row-title_bar_after-curve"})))),(0,o.createElement)("div",{className:"browser-row-search"},(0,o.createElement)("div",{className:"browser-row-search__icons"},(0,o.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--back-icon)"}}),(0,o.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--forward-icon)"}}),(0,o.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--reload-icon)"}})),(0,o.createElement)("div",{className:"browser-row-search__search-box"},(0,o.createElement)("input",{className:"browser-row-search__search-box_input",type:"text",onChange:()=>{},value:v})),(0,o.createElement)("div",{className:"browser-row-search__more"},(0,o.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--more-icon)"}}))),(0,o.createElement)("div",{className:"browser-content"},(0,o.createElement)("div",{className:"browser-content_top-row"},(0,o.createElement)("h4",{className:"browser-content_top-row-name"},w),(0,o.createElement)("span",{className:"browser-content_top-row-link"},v)),(0,o.createElement)("h5",{className:"browser-content_desc"},_),(0,o.createElement)("div",{className:"browser-content_social"},R.map(((e,t)=>(0,o.createElement)("div",{key:e.image,tabIndex:t+1,role:"button",onClick:()=>i(!l),onKeyDown:()=>i(!l),className:`browser-content_social_icon ${e.url?L(e.url)||"--invalid-url":"--no-url"}`,style:{backgroundImage:e.image}})))))))}));var _=a(682),v=a(8395),g=a(9291),h=a(2964);const b=(0,o.memo)((e=>{let{icon:t,iconSetter:a}=e;const r=(0,o.useRef)(null),[l,n]=(0,o.useState)(!1),[i,c]=(0,o.useState)(!1);async function d(e){if(e){n(!0);const r=await(0,h.I)(e);if(r){var t,o;const e=null==r||null===(t=r.body)||void 0===t?void 0:t.id,l=null==r||null===(o=r.body)||void 0===o?void 0:o.source_url;a({id:e,url:l})}}n(!1)}return(0,o.createElement)("div",{className:"image-uploader"},(0,o.createElement)("h4",{className:"image-uploader_heading"},(0,s.__)("Logo","wp-module-onboarding")),l?(0,o.createElement)("div",{className:"image-uploader_window"},(0,o.createElement)(g.L,null)):(0,o.createElement)("div",{className:`image-uploader_window ${i&&"image-uploader_window--on-drag"}`,onDrop:e=>(e=>{var t,a,o,r,l;e.preventDefault(),e.stopPropagation(),c(!1),null!=e&&null!==(t=e.dataTransfer)&&void 0!==t&&t.files&&(null==e||null===(a=e.dataTransfer)||void 0===a?void 0:a.files.length)>0&&"image"===(null==e||null===(o=e.dataTransfer)||void 0===o||null===(r=o.files[0])||void 0===r?void 0:r.type.split("/")[0])&&d(null==e||null===(l=e.dataTransfer)||void 0===l?void 0:l.files[0])})(e),onDragOver:e=>(e=>{e.preventDefault(),e.stopPropagation(),c(!0)})(e),onDragEnter:e=>(e=>{e.preventDefault(),e.stopPropagation(),c(!0)})(e),onDragLeave:e=>(e=>{e.preventDefault(),e.stopPropagation(),c(!1)})(e)},(0,o.createElement)("div",{className:"image-uploader_window-empty"}),(0,o.createElement)("div",{className:"image-uploader_window-logo"},(void 0===t||0===(null==t?void 0:t.id))&&(0,o.createElement)("div",{className:"image-uploader_window-logo-icon-empty"}),0!==(null==t?void 0:t.id)&&void 0!==(null==t?void 0:t.id)&&(0,o.createElement)("img",{className:"image-uploader_window-logo-icon-selected",src:null==t?void 0:t.url,alt:"Thumb"})),(0,o.createElement)("div",{className:"image-uploader_window-reset"},void 0!==t&&0!==(null==t?void 0:t.id)&&(0,o.createElement)("button",{className:"image-uploader_window-reset-btn",onClick:()=>{var e;a({id:0,url:""}),(null==r||null===(e=r.current)||void 0===e?void 0:e.files.length)>0&&(r.current.value="")}},(0,s.__)("RESET","wp-module-onboarding")),(void 0===t||0===(null==t?void 0:t.id))&&(0,o.createElement)("button",{className:"image-uploader_window-reset-btn",onClick:()=>{null==r||r.current.click()}},(0,s.__)("UPLOAD","wp-module-onboarding")),(0,o.createElement)("input",{className:"image-uploader_window-select-btn",accept:"image/*",type:"file",ref:r,onChange:e=>{var t,a,o;null!=e&&null!==(t=e.target)&&void 0!==t&&t.files&&(null==e||null===(a=e.target)||void 0===a?void 0:a.files.length)>0&&d(null==e||null===(o=e.target)||void 0===o?void 0:o.files[0])}}))))}));var f=a(9196);const E=e=>{let t;const[a,r]=(0,f.useState)(!0);return"hide"==e.content?(0,o.createElement)("div",null,e.children):(0,o.createElement)("div",{className:"Tooltip-Wrapper",onMouseEnter:()=>{t=setTimeout((()=>{r(!0)}),e.delay||400)},onMouseLeave:()=>{clearInterval(t),r(!1)}},e.children,a&&(0,o.createElement)("div",{className:`Tooltip-Tip ${e.direction||"top"}`},e.content))};var N=a(5087);const y=new Set(["twitter","instagram","youtube"]),k=(e,t)=>{const a=new RegExp(/goo\.gl.*|bit\.ly.*|buff\.ly.*|tinyurl\.com.*|bl\.ink.*|short\.io.*|ow\.ly.*|is\.gd.*|adf\.ly.*|bit\.do.*|t\.co.*|clk\.sh.*|gplinks\.in.*|tiny\.cc.*|wp\.me.*/gi),o=new RegExp(/.*www\./gi),r=new RegExp(/https?:\/\//gi),l=new RegExp(/((https?:\/\/(?:www\.|(?!www)))?[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi);if(e.match(a)){const a=e.match(o),l=e.match(r);return a||l||(e="https://www."+e),t.error=N.i.AD_LINK_ERROR,t.url=e,t}const n=e.match(l);if(!n)return t.error=N.i.INVALID_LINK_ERROR,t.url=e,t;let i=n[0];const s=n[0].match(o),c=n[0].match(r);return i.match(new RegExp(/http:/gi))&&(i=i.replace(/http:/gi,"https:")),s||c?!s&&c?i=i.replace(/https?:\/\//gi,"https://www."):s&&!c&&(i="https://"+i):i="https://www."+i,t.url=i,t.error=N.i.NONE,t},S=e=>!!e.match("^@?[A-Za-z0-9_]{1,25}$");var T=a(9250),D=a(5609);const x=e=>{let{showModal:t,setShowModal:a,modalTitle:r,modalText:l}=e;const i=(0,T.s0)(),{navErrorModalPath:c}=(0,n.useSelect)((e=>({navErrorModalPath:e(p.h).getNavErrorPath()})),[]),{showNavErrorDialog:d,resetNavError:u}=(0,n.useDispatch)(p.h),m=()=>{u(),d(!0),a(!1)};return(0,o.createElement)(o.Fragment,null,t&&(0,o.createElement)(D.Modal,{title:r,onRequestClose:()=>m()},(0,o.createElement)("p",null,l),(0,o.createElement)(D.ButtonGroup,{className:"nfd-onboarding-etw__buttons"},(0,o.createElement)(D.Button,{variant:"secondary",onClick:()=>m()},(0,s.__)("Edit URLs","wp-module-onboarding")),(0,o.createElement)(D.Button,{variant:"primary",onClick:()=>{u(),i(c)}},(0,s.__)("Proceed Anyways","wp-module-onboarding")))))},O=e=>{let{socialData:t,setSocialData:a,isSocialFormOpen:r,setIsSocialFormOpen:l}=e;const i={heading:(0,s.__)("Social Media","wp-module-onboarding"),modals:{shortUrl:{modalTitle:(0,s.__)("It looks like you're using a URL shortener!","wp-module-onboarding"),modalText:(0,s.__)("That's smart, but we encourage you to enter the standard URL for your social profiles to help search engines know this website is associated with your profile using Yoast's Open Graph support. You can always change the URLs used within your site to trackable in the future.","wp-module-onboarding")},invalidUrl:{modalTitle:(0,s.__)("One of those URLs doesn't look like a social media URL.","wp-module-onboarding"),modalText:(0,s.__)("We recommend using your official social URL to help search engines know this website is associated with your profile using Yoast's Open Graph support. You can always change the URLs used within your site in the future.","wp-module-onboarding")}},errorText:{adLinkErrorText:(0,s.__)("That's clever! Short URLs are a great way to track clicks. However, To help build your social graph, we need the full URLs to your social profiles. You can go into your menus and change your social icon links after setup.","wp-module-onboarding"),invalidLinkErrorText:(0,s.__)("To help build your social graph, we need the full URLs to your social profiles. Please check your URLs for typos and try copy & paste with the official URL if you continue to see this error.","wp-module-onboarding")}},[c,d]=(0,o.useState)(""),[u,m]=(0,o.useState)(""),[w,_]=(0,o.useState)(""),[v,g]=(0,o.useState)(""),[h,b]=(0,o.useState)(""),[f,T]=(0,o.useState)(""),[D,O]=(0,o.useState)(""),[I,L]=(0,o.useState)(!1),[R,C]=(0,o.useState)([]),[A,U]=(0,o.useState)(Object),{showNavErrorDialog:P,setOnboardingSocialData:M,resetNavError:F}=(0,n.useDispatch)(p.h),{navErrorModalPath:K}=(0,n.useSelect)((e=>({navErrorModalPath:e(p.h).getNavErrorPath()})),[]),Z={FACEBOOK:{id:"facebook",value:c,name:(0,s.__)("Facebook","wp-module-onboarding")},TWITTER:{id:"twitter",value:u,name:(0,s.__)("Twitter","wp-module-onboarding")},INSTAGRAM:{id:"instagram",value:w,name:(0,s.__)("Instagram","wp-module-onboarding")},YOUTUBE:{id:"youtube",value:v,name:(0,s.__)("Youtube","wp-module-onboarding")},LINKEDIN:{id:"linkedin",value:h,name:(0,s.__)("Linkedin","wp-module-onboarding")},YELP:{id:"yelp",value:f,name:(0,s.__)("Yelp","wp-module-onboarding")},TIKTOK:{id:"tiktok",value:D,name:(0,s.__)("Tiktok","wp-module-onboarding")}};(0,o.useEffect)((()=>{""!==K&&L(!0)}),[K]),(0,o.useEffect)((()=>{var e,a,o,r,l;if(d(null!==(e=null==t?void 0:t.facebook_site)&&void 0!==e?e:""),m(null!==(a=null==t?void 0:t.twitter_site)&&void 0!==a?a:""),_(null!==(o=null==t?void 0:t.instagram_url)&&void 0!==o?o:""),g(null!==(r=null==t?void 0:t.youtube_url)&&void 0!==r?r:""),b(null!==(l=null==t?void 0:t.linkedin_url)&&void 0!==l?l:""),t&&Object.keys(t).includes("other_social_urls")){const e=t.other_social_urls;var n,i;Object.keys(e).includes("yelp_url")&&T(null!==(n=e.yelp_url)&&void 0!==n?n:""),Object.keys(e).includes("tiktok_url")&&O(null!==(i=e.tiktok_url)&&void 0!==i?i:"")}}),[t]);const V=(e,o)=>{switch(o){case Z.FACEBOOK.id:d(e),t.facebook_site=e;break;case Z.TWITTER.id:m(e),t.twitter_site=e;break;case Z.INSTAGRAM.id:_(e),t.instagram_url=e;break;case Z.YOUTUBE.id:g(e),t.youtube_url=e;break;case Z.LINKEDIN.id:b(e),t.linkedin_url=e;break;case Z.YELP.id:T(e),t.other_social_urls={...t.other_social_urls},t.other_social_urls.yelp_url=e;break;case Z.TIKTOK.id:O(e),t.other_social_urls={...t.other_social_urls},t.other_social_urls.tiktok_url=e}M(t),a(t)},B=()=>{let e=N.i.NONE;for(const t in A)A[t]!==N.i.NONE&&(e=A[t]);return e},Y=e=>{const t=e.target.value,a=e.target.id,o=((e,t)=>{const a={url:t,error:N.i.NONE};if(""===t)return a;if(!y.has(e))return k(t,a);switch(e){case"twitter":return((e,t)=>S(e)?("@"===e.charAt(0)&&(e=e.substr(1)),t.url="https://www.twitter.com/"+e,t):k(e,t))(t,a);case"instagram":return((e,t)=>S(e)?("@"===e.charAt(0)&&(e=e.substr(1)),t.url="https://www.instagram.com/"+e,t):k(e,t))(t,a);case"youtube":return((e,t)=>S(e)?(t.url="https://www.youtube.com/"+e,t):k(e,t))(t,a)}})(a,t);A[a]=o.error,U(A),((e,t)=>{if(t)R.includes(e)||C([...R,e]);else{const t=R.filter((function(t){return t!==e}));C(t)}})(a,o.error!==N.i.NONE),B()!==N.i.NONE?P(!0):F(),V(o.url,a)};return(0,o.createElement)("div",{className:"social-form"},I&&(()=>{switch(B()){case N.i.AD_LINK_ERROR:return(0,o.createElement)(x,{showModal:I,setShowModal:L,modalTitle:i.modals.shortUrl.modalTitle,modalText:i.modals.shortUrl.modalText});case N.i.INVALID_LINK_ERROR:return(0,o.createElement)(x,{showModal:I,setShowModal:L,modalTitle:i.modals.invalidUrl.modalTitle,modalText:i.modals.invalidUrl.modalText});default:return null}})(),(0,o.createElement)("div",{role:"button",tabIndex:0,onKeyDown:()=>l(!r),className:"social-form__top-row",onClick:()=>l(!r)},(0,o.createElement)("div",{className:"social-form__top-row_heading"},i.heading),(0,o.createElement)("div",{className:"social-form__top-row_icon "+(r?"social-form__top-row_icon_opened":"")})),(0,o.createElement)("form",{className:r?"social-form__main-active":"social-form__main-hidden"},Object.keys(Z).map((e=>{return(0,o.createElement)("div",{key:Z[e].id},(0,o.createElement)("label",{htmlFor:Z[e].id,className:`social-form__label social-form__label-${Z[e].id}`},(0,o.createElement)("div",{className:"social-form__label_icon",style:{backgroundImage:`var(--${Z[e].id}-icon)`}}),(0,o.createElement)("div",{className:"social-form__label_name"},Z[e].name)),(0,o.createElement)(E,{content:R.includes(Z[e].id)?(t=Z[e].id,"ad-link-error"===A[t]?i.errorText.adLinkErrorText:i.errorText.invalidLinkErrorText):"hide",direction:Z[e].id===Z.TIKTOK.id?"top":"bottom"},(0,o.createElement)("input",{className:R.includes(Z[e].id)?"social-form__box-error":"social-form__box",type:"url",id:`${Z[e].id}`,value:Z[e].value,onChange:e=>{(e=>{const t=e.target.value,a=e.target.id;V(t,a)})(e)},onBlur:e=>Y(e)})));var t}))))},I=()=>{const e=(0,o.useRef)(null),[t,a]=(0,o.useState)(),[r,l]=(0,o.useState)(!1),[s,c]=(0,o.useState)(),[g,h]=(0,o.useState)(""),[f,E]=(0,o.useState)(""),[N,y]=(0,o.useState)(),[k,S]=(0,o.useState)(),[T,D]=(0,o.useState)(!1),{setOnboardingSocialData:x,setCurrentOnboardingData:I}=(0,n.useDispatch)(p.h),{editEntityRecord:L}=(0,n.useDispatch)(i.store),{getEditedEntityRecord:R}=(0,n.useSelect)((e=>e(i.store)),[]),{currentData:C}=(0,n.useSelect)((e=>({currentData:e(p.h).getCurrentOnboardingData()})),[]),A=d();return(0,o.useEffect)((()=>{T&&e.current.scrollIntoView()}),[T]),(0,o.useEffect)((()=>{var e,o,n,i,s;r||async function(){const e=await(0,v.Gw)();S(null==e?void 0:e.body),a(C),c(t),l(!0),x(null==e?void 0:e.body)}(),R("root","site"),r&&(y(null==t||null===(e=t.data)||void 0===e?void 0:e.siteLogo),h(null!==(o=null==t||null===(n=t.data)||void 0===n?void 0:n.blogName)&&void 0!==o?o:""),E(null!==(i=null==t||null===(s=t.data)||void 0===s?void 0:s.blogDescription)&&void 0!==i?i:""))}),[r]),(0,o.useEffect)((()=>{const e=setTimeout((()=>{r&&c({data:{siteLogo:N,blogName:g,blogDescription:f,socialData:k}})}),600);return()=>{clearTimeout(e)}}),[g,f,N,k]),(0,o.useEffect)((()=>{s&&(async()=>{var e,t,a;const o=C;var r,l,n;o.data.siteLogo=null!==(e=s.data.siteLogo)&&void 0!==e?e:o.data.siteLogo,o.data.blogName=null!==(t=s.data.blogName)&&void 0!==t?t:o.data.blogName,o.data.blogDescription=null!==(a=s.data.blogDescription)&&void 0!==a?a:o.data.blogDescription,r=o.data.siteLogo,l=o.data.blogName,n=o.data.blogDescription,L("root","site",void 0,{site_logo:null!=r&&r.id?r.id:null,description:n,title:l}),I(o)})()}),[s]),(0,o.createElement)(_.Z,{type:"fade-in-disabled",after:"object"==typeof t&&"object"==typeof k},(0,o.createElement)("div",{className:"basic-info"},(0,o.createElement)("div",{className:"basic-info-form"},(0,o.createElement)("div",{className:"basic-info-form__left"},(0,o.createElement)(u,{title:A.siteTitle.title,hint:A.siteTitle.hint,placeholder:A.siteTitle.placeholder,maxCharacters:A.siteTitle.maxCharacters,height:"47px",textValue:g,textValueSetter:h}),(0,o.createElement)(u,{title:A.siteDesc.title,hint:A.siteDesc.hint,placeholder:A.siteDesc.placeholder,maxCharacters:A.siteDesc.maxCharacters,height:"100px",textValue:f,textValueSetter:E}),(0,o.createElement)("div",{ref:e},(0,o.createElement)(O,{socialData:k,setSocialData:S,isSocialFormOpen:T,setIsSocialFormOpen:D}))),(0,o.createElement)("div",{className:"basic-info-form__right"},(0,o.createElement)(b,{icon:N,iconSetter:y}),(0,o.createElement)(w,{icon:N,title:g,desc:f,isSocialFormOpen:T,setIsSocialFormOpen:D}))),(0,o.createElement)(m.Z,null)))};var L=a(2200),R=a(4333);const C=()=>{const e=(0,R.useViewportMatch)("medium"),{setIsDrawerOpened:t,setDrawerActiveView:a,setSidebarActiveView:i,setIsDrawerSuppressed:s,setIsHeaderNavigationEnabled:c}=(0,n.useDispatch)(p.h),u=d();return(0,o.useEffect)((()=>{e&&t(!0),i(L.Jq),s(!1),a(L.tM),c(!0)}),[]),(0,o.createElement)(r.Z,{isVerticallyCentered:!0},(0,o.createElement)(l.Z,{title:u.heading,subtitle:u.subheading}),(0,o.createElement)(I,null))}},2964:(e,t,a)=>{a.d(t,{I:()=>i});var o=a(6329),r=a(4704),l=a(6989),n=a.n(l);async function i(e){const t=await function(e){return new Promise(((t,a)=>{const o=new FileReader;o.addEventListener("loadend",(e=>t(e.target.result))),o.addEventListener("error",a),o.readAsArrayBuffer(e)}))}(e),a={"Content-Type":"image/png"};return a["Content-Disposition"]="attachment; filename="+e.name,await(0,o.D)(n()({url:(0,r.$L)("media"),method:"POST",headers:a,body:t}))}}}]);