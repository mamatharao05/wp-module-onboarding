"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[346],{7231:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(9307),o=n(444);const i=(0,a.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(o.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}))},9346:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var a=n(9307),o=n(5609),i=n(7231),s=n(9818),r=n(5736),l=n(4403),c=n(2200),d=n(1056),_=n(2819),b=n(4893),p=n(1639),m=n(7625),g=n(8797);const u=(0,a.memo)((()=>{const[e,t]=(0,a.useState)(),[n,u]=(0,a.useState)(),[v,f]=(0,a.useState)([]),[h,w]=(0,a.useState)(),{currentData:E,isSidebarOpened:y,sideBarView:N}=(0,s.useSelect)((e=>({currentData:e(l.h).getCurrentOnboardingData(),isSidebarOpened:e(l.h).isSidebarOpened(),sideBarView:e(l.h).getSidebarView()}))),{setIsSidebarOpened:k,setCurrentOnboardingData:x}=(0,s.useDispatch)(l.h),D=n=>{if(!(n in e))return!1;const a={...e};a[n].active=!a[n].active,E.sitegen.homepages.active=(0,_.cloneDeep)(a[n]),u(a[n]),t(a),x(E)},C=n=>{if(!(n in e))return!1;const a={...e};a[n].favorite=!a[n].favorite,t(a),E.sitegen.homepages.data=(0,_.cloneDeep)(a),x(E)};return(0,a.useEffect)((()=>{c.BN===N&&y&&(async()=>{let e={};if((0,_.isEmpty)(E.sitegen.homepages.data)){const t=(0,b.n)(),n=(0,p.Kj)();t.forEach(((e,t)=>{if(null==e||!e.color){const a=Object.keys(n),o=a[t%a.length];e.color={slug:o,palette:n[o]}}})),t.forEach((t=>{e[t.slug]=t})),E.sitegen.homepages.data=e,x(E)}else e=E.sitegen.homepages.data;const n=await(0,m.oC)();f(n.body),t(e),u(E.sitegen.homepages.active)})()}),[N,y]),(0,a.useEffect)((()=>{w({name:(0,r.__)("All Versions","wp-module-onboarding"),title:(0,a.createElement)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab"},(0,a.createElement)("p",null,(0,r.__)("All Versions","wp-module-onboarding"))),content:e&&n&&Object.keys(e).map((t=>{const o=e[t],i=(0,_.cloneDeep)(v[0]);return i.settings.color.palette=o.color.palette,(0,a.createElement)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container",key:o.slug},(0,a.createElement)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__previews",onClick:()=>D(o.slug),role:"button",tabIndex:0,onKeyDown:()=>D(o.slug)},(0,a.createElement)(g.i5,{styling:o.slug!==n.slug?"custom":"custom__highlighted",blockGrammer:o.content,viewportWidth:1300,previewSettings:i,skeletonLoadingTime:0})),(0,a.createElement)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context"},(0,a.createElement)("div",{className:`nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__icon ${o.favorite&&"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__icon__fill"}`,role:"button",tabIndex:0,onClick:()=>C(o.slug),onKeyDown:()=>C(o.slug)}),(0,a.createElement)("p",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__title"},o.title)))}))})}),[e,n,E]),(0,a.createElement)(o.Fill,{name:`${c.qB}/${c.BN}`},(0,a.createElement)(o.PanelBody,{className:"nfd-onboarding-sidebar--sitegen-editor-patterns",initialOpen:!0},(0,a.createElement)(a.Suspense,{fallback:(0,a.createElement)(a.Fragment,null)},(0,a.createElement)(o.PanelHeader,null,(0,a.createElement)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header"},(0,a.createElement)(d.Z,{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel",tabs:[{name:(0,r.__)("All Versions","wp-module-onboarding"),title:(0,a.createElement)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab"},(0,a.createElement)("p",null,(0,r.__)("All Versions","wp-module-onboarding"))),content:h&&e&&n&&Object.keys(e).map((t=>{const o=e[t],i=(0,_.cloneDeep)(v[0]);return i.settings.color.palette=o.color.palette,(0,a.createElement)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container",key:o.slug,role:"button",tabIndex:0,onKeyDown:()=>D(o.slug),onClick:()=>D(o.slug)},(0,a.createElement)(g.i5,{styling:o.slug!==n.slug?"custom":"custom__highlighted",blockGrammer:o.content,viewportWidth:1300,previewSettings:i,skeletonLoadingTime:0}),(0,a.createElement)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context"},(0,a.createElement)("div",{className:`nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__icon ${o.favorite&&"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__icon__fill"}`,role:"button",tabIndex:0,onKeyDown:()=>C(o.slug),onClick:()=>C(o.slug)}),(0,a.createElement)("p",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__title"},o.title)))}))},{name:"Favorites",title:(0,a.createElement)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__favorites-tab"},(0,a.createElement)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__favorites-tab__icon"}),(0,a.createElement)("p",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__favorites-tab__text"},(0,r.__)("Favorites","wp-module-onboarding")),(0,a.createElement)(o.Button,{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__icon",onClick:()=>{k(!1)},icon:i.Z})),content:h&&e&&n&&Object.keys(e).map((t=>{const o=e[t];if(!o.favorite)return!1;const i=(0,_.cloneDeep)(v[0]);return i.settings.color.palette=o.color.palette,(0,a.createElement)("div",{key:o.slug,className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container",role:"button",tabIndex:0,onKeyDown:()=>D(o.slug),onClick:()=>D(o.slug)},(0,a.createElement)(g.i5,{styling:o.slug!==n.slug?"custom":"custom__highlighted",blockGrammer:o.content,viewportWidth:1300,previewSettings:i,skeletonLoadingTime:0}),(0,a.createElement)("p",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__title"},o.title))}))}],callback:w}))),h&&e&&n&&h.content)))}))},1056:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(7462),o=n(9307),i=n(2819),s=n(4333),r=n(9630),l=n(5904);const c=()=>{},d=["menuitem","menuitemradio","menuitemcheckbox"];class _ extends o.Component{constructor(){super(...arguments),this.onKeyDown=this.onKeyDown.bind(this),this.bindContainer=this.bindContainer.bind(this),this.getFocusableContext=this.getFocusableContext.bind(this),this.getFocusableIndex=this.getFocusableIndex.bind(this)}componentDidMount(){this.container.addEventListener("keydown",this.onKeyDown),this.container.addEventListener("focus",this.onFocus)}componentWillUnmount(){this.container.removeEventListener("keydown",this.onKeyDown),this.container.removeEventListener("focus",this.onFocus)}bindContainer(e){const{forwardedRef:t}=this.props;this.container=e,"function"==typeof t?t(e):t&&"current"in t&&(t.current=e)}getFocusableContext(e){const{onlyBrowserTabstops:t}=this.props,n=(t?l.focus.tabbable:l.focus.focusable).find(this.container),a=this.getFocusableIndex(n,e);return a>-1&&e?{index:a,target:e,focusables:n}:null}getFocusableIndex(e,t){const n=e.indexOf(t);if(-1!==n)return n}onKeyDown(e){this.props.onKeyDown&&this.props.onKeyDown(e);const{getFocusableContext:t}=this,{cycle:n=!0,eventToOffset:a,onNavigate:o=c,stopNavigationEvents:i}=this.props,s=a(e);if(void 0!==s&&i){e.stopImmediatePropagation();const t=e.target.getAttribute("role");d.includes(t)&&e.preventDefault()}if(!s)return;const r=t(e.target.ownerDocument.activeElement);if(!r)return;const{index:l,focusables:_}=r,b=n?function(e,t,n){const a=e+n;return a<0?t+a:a>=t?a-t:a}(l,_.length,s):l+s;b>=0&&b<_.length&&(_[b].focus(),o(b,_[b]))}render(){const{children:e,...t}=this.props;return(0,o.createElement)("div",(0,a.Z)({ref:this.bindContainer},(0,i.omit)(t,["stopNavigationEvents","eventToOffset","onNavigate","onKeyDown","cycle","onlyBrowserTabstops","forwardedRef"])),e)}}const b=(e,t)=>(0,o.createElement)(_,(0,a.Z)({},e,{forwardedRef:t}));b.displayName="NavigableContainer";const p=(0,o.forwardRef)(b),m=(0,o.forwardRef)((function(e,t){let{role:n="menu",orientation:s="vertical",...l}=e;return(0,o.createElement)(p,(0,a.Z)({ref:t,stopNavigationEvents:!0,onlyBrowserTabstops:!1,role:n,"aria-orientation":"presentation"===n?null:s,eventToOffset:e=>{const{keyCode:t}=e;let n=[r.DOWN],a=[r.UP];return"horizontal"===s&&(n=[r.RIGHT],a=[r.LEFT]),"both"===s&&(n=[r.RIGHT,r.DOWN],a=[r.LEFT,r.UP]),(0,i.includes)(n,t)?1:(0,i.includes)(a,t)?-1:(0,i.includes)([r.DOWN,r.UP,r.LEFT,r.RIGHT],t)?0:void 0}},l))}));(0,o.forwardRef)((function(e,t){let{eventToOffset:n,...i}=e;return(0,o.createElement)(p,(0,a.Z)({ref:t,stopNavigationEvents:!0,onlyBrowserTabstops:!0,eventToOffset:e=>{const{keyCode:t,shiftKey:a}=e;return r.TAB===t?a?-1:1:n?n(e):void 0}},i))}));var g=n(5609);const u=()=>{},v=e=>{let{tabId:t,onClick:n,children:i,selected:s,...r}=e;return(0,o.createElement)(g.Button,(0,a.Z)({role:"tab",tabIndex:s?null:-1,"aria-selected":s,id:t,onClick:n},r),i)};function f(e){var t;let{className:n,children:a,tabs:r,initialTabName:l,orientation:c="horizontal",activeClass:d="is-active",notActiveClass:_="is-not-active",callback:b,onSelect:p=u}=e;const g=(0,s.useInstanceId)(f,"tab-panel"),[h,w]=(0,o.useState)(null),E=e=>{w(e),p(e);const t=(0,i.find)(r,{name:e});"function"==typeof b&&b(t)},y=(0,i.find)(r,{name:h}),N=`${g}-${null!==(t=null==y?void 0:y.name)&&void 0!==t?t:"none"}`;return(0,o.useEffect)((()=>{(0,i.find)(r,{name:h})||w(l||(r.length>0?r[0].name:null))}),[r]),(0,o.createElement)("div",{className:n},(0,o.createElement)(m,{role:"tablist",orientation:c,onNavigate:(e,t)=>{t.click()},className:"components-tab-panel__tabs"},r.map((e=>(0,o.createElement)(v,{className:`components-tab-panel__tabs-item ${e.name===h&&d} ${e.name!==h&&_}`,tabId:`${g}-${e.name}`,"aria-controls":`${g}-${e.name}-view`,selected:e.name===h,key:e.name,onMouseOver:(0,i.partial)(E,e.name)},e.title)))),y&&(0,o.createElement)("div",{key:N,"aria-labelledby":N,role:"tabpanel",id:`${N}-view`,className:"components-tab-panel__tab-content"},a&&a(y)))}}}]);